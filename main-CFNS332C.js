import{Aa as F,Ba as E,Ca as V,Da as N,Fa as U,Ga as g,Ha as K,Ia as u,Ja as y,Ka as p,N as A,O as L,P as h,Y as k,ea as H,f as R,h as a,j as P,n as f,o as l,p as w,q as T,r,s as d,t as c,ua as x,xa as M,ya as j}from"./chunk-ALU2VKCJ.js";import{a as S,b as B}from"./chunk-CMD3HYZE.js";var C=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-notfound-page"]],standalone:!0,features:[H],decls:4,vars:0,consts:[[1,"min-h-screen","flex","justify-center","items-center","gap-3","flex-col"],["src","../../../assets/imgs/404.svg","alt","not found","title","not found",1,"max-w-md"],["routerLink","/chats",1,"btn-lg","btn-blue"]],template:function(t,o){t&1&&(A(0,"div",0),h(1,"img",1),A(2,"a",2),k(3,"Go Chats Page"),L()())},dependencies:[u,K]})};var G=(e,s)=>{let t=r(p),o=r(g),i=r(y);return t.userData$.pipe(a(n=>n&&n.token&&new Date(n.validTO)>new Date?!0:(i.showToast({icon:"warning",title:"Login Required"}),o.navigate(["/auth/login"],{queryParams:{returnUrl:s.url}}),!1)))};var q=(e,s)=>{let t=r(p),o=r(g),i=r(y);return t.userData$.pipe(a(n=>n&&n.token&&new Date(n.validTO)>new Date?(i.showToast({icon:"warning",title:"you already logged in"}),o.navigate(["/"]),!1):!0))};var Q=[{path:"",redirectTo:"chats",pathMatch:"full"},{path:"auth",canActivate:[q],loadChildren:()=>import("./chunk-IRDHPJDH.js").then(e=>e.AuthModule)},{path:"chats",canActivate:[G],loadChildren:()=>import("./chunk-JNZNE3P6.js").then(e=>e.ChatsModule)},{path:"**",component:C}],v=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=c({type:e});static \u0275inj=l({imports:[u.forRoot(Q),u]})};var O=class e{userStateService=r(p);title="Chatting-System";ngOnInit(){this.userStateService.loadUserFromStorage()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,o){t&1&&h(0,"router-outlet")},dependencies:[U]})};var D=class e{intercept(s,t){return t.handle(s).pipe(a(o=>{if(o instanceof M){let i=o.body;return Array.isArray(i)?i={data:i,isSuccess:!0}:i=B(S({},i),{isSuccess:!0}),o.clone({body:i})}return o}),P(o=>{let i=o.error;Array.isArray(i)?i={errors:i,isSuccess:!1}:i&&(i.isSuccess=!1);let n=new j({error:i,headers:o.headers,status:o.status,statusText:o.statusText,url:o.url??void 0});return R(()=>n)}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=f({token:e,factory:e.\u0275fac})};var I=new w("@sweetalert2/ngx-sweetalert2#swalProvider"),W=new w("@sweetalert2/ngx-sweetalert2#fireOnInit"),_=new w("@sweetalert2/ngx-sweetalert2#dismissOnDestroy"),$=(()=>{class e{swalProvider;swalPromiseCache;constructor(t){this.swalProvider=t}get swal(){return this.swalPromiseCache||this.preloadSweetAlertLibrary(),this.swalPromiseCache}preloadSweetAlertLibrary(){if(this.swalPromiseCache)return;let t=o(this.swalProvider)?this.swalProvider():Promise.resolve(this.swalProvider);this.swalPromiseCache=t.then(n=>i(n)?n:n.default);function o(n){return typeof n=="function"&&n.version===void 0}function i(n){return typeof n=="function"}}static \u0275fac=function(o){return new(o||e)(T(I))};static \u0275prov=f({token:e,factory:e.\u0275fac})}return e})();function X(){return import("./chunk-POFRBDQB.js")}var Z=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[$,{provide:I,useValue:t.provideSwal||X},{provide:W,useValue:t.fireOnInit||!1},{provide:_,useValue:t.dismissOnDestroy||!0}]}}static forChild(t={}){return{ngModule:e,providers:[...t.provideSwal?[$,{provide:I,useValue:t.provideSwal}]:[],...t.fireOnInit!==void 0?[{provide:W,useValue:t.fireOnInit}]:[],...t.dismissOnDestroy!==void 0?[{provide:_,useValue:t.dismissOnDestroy}]:[]]}}static \u0275fac=function(o){return new(o||e)};static \u0275mod=c({type:e});static \u0275inj=l({imports:[x]})}return e})();var b=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=c({type:e,bootstrap:[O]});static \u0275inj=l({providers:[{provide:F,useClass:D,multi:!0}],imports:[N,v,E,Z.forRoot()]})};V().bootstrapModule(b,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
